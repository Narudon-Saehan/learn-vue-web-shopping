{"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Narudon\\\\Documents\\\\GitHub\\\\learn-vue-web-shopping\\\\back-end\\\\src\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Narudon\\\\Documents\\\\GitHub\\\\learn-vue-web-shopping\\\\back-end\",\"filename\":\"C:\\\\Users\\\\Narudon\\\\Documents\\\\GitHub\\\\learn-vue-web-shopping\\\\back-end\\\\src\\\\server.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Narudon\\\\Documents\\\\GitHub\\\\learn-vue-web-shopping\\\\back-end\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"regenerator\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.22.1:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _mongodb = require(\"mongodb\");\nvar _path = _interopRequireDefault(require(\"path\"));\nfunction start() {\n  return _start.apply(this, arguments);\n}\nfunction _start() {\n  _start = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee7() {\n    var url, client, db, app, populateCartIds, _populateCartIds, port;\n    return _regenerator[\"default\"].wrap(function _callee7$(_context7) {\n      while (1) switch (_context7.prev = _context7.next) {\n        case 0:\n          _populateCartIds = function _populateCartIds3() {\n            _populateCartIds = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee6(ids) {\n              return _regenerator[\"default\"].wrap(function _callee6$(_context6) {\n                while (1) switch (_context6.prev = _context6.next) {\n                  case 0:\n                    return _context6.abrupt(\"return\", Promise.all(ids.map(function (id) {\n                      return db.collection('products').findOne({\n                        id: id\n                      });\n                    })));\n                  case 1:\n                  case \"end\":\n                    return _context6.stop();\n                }\n              }, _callee6);\n            }));\n            return _populateCartIds.apply(this, arguments);\n          };\n          populateCartIds = function _populateCartIds2(_x3) {\n            return _populateCartIds.apply(this, arguments);\n          };\n          url = \"mongodb+srv://narudon:Nd-0620682282@cluster0.6sa3glw.mongodb.net/?retryWrites=true&w=majority\";\n          client = new _mongodb.MongoClient(url);\n          _context7.next = 6;\n          return client.connect();\n        case 6:\n          db = client.db('fsv-db');\n          app = (0, _express[\"default\"])();\n          app.use(_express[\"default\"].json());\n          app.use('/images', _express[\"default\"][\"static\"](_path[\"default\"].join(__dirname, '../assets')));\n          app.use(_express[\"default\"][\"static\"](_path[\"default\"].resolve(__dirname, \"../dist\"), {\n            maxAge: '1y',\n            etag: false\n          }));\n          app.get('/api/products', /*#__PURE__*/function () {\n            var _ref = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee(req, res) {\n              var products;\n              return _regenerator[\"default\"].wrap(function _callee$(_context) {\n                while (1) switch (_context.prev = _context.next) {\n                  case 0:\n                    _context.next = 2;\n                    return db.collection('products').find({}).toArray();\n                  case 2:\n                    products = _context.sent;\n                    res.send(products);\n                  case 4:\n                  case \"end\":\n                    return _context.stop();\n                }\n              }, _callee);\n            }));\n            return function (_x, _x2) {\n              return _ref.apply(this, arguments);\n            };\n          }());\n          app.get('/api/users/:userId/cart', /*#__PURE__*/function () {\n            var _ref2 = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee2(req, res) {\n              var user, populatedCart;\n              return _regenerator[\"default\"].wrap(function _callee2$(_context2) {\n                while (1) switch (_context2.prev = _context2.next) {\n                  case 0:\n                    _context2.next = 2;\n                    return db.collection('users').findOne({\n                      id: req.params.userId\n                    });\n                  case 2:\n                    user = _context2.sent;\n                    if (user !== null && user !== void 0 && user.cartItems) {\n                      _context2.next = 6;\n                      break;\n                    }\n                    res.json([]);\n                    return _context2.abrupt(\"return\");\n                  case 6:\n                    _context2.next = 8;\n                    return populateCartIds(user === null || user === void 0 ? void 0 : user.cartItems);\n                  case 8:\n                    populatedCart = _context2.sent;\n                    res.json(populatedCart);\n                  case 10:\n                  case \"end\":\n                    return _context2.stop();\n                }\n              }, _callee2);\n            }));\n            return function (_x4, _x5) {\n              return _ref2.apply(this, arguments);\n            };\n          }());\n          app.get('/api/products/:productId', /*#__PURE__*/function () {\n            var _ref3 = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee3(req, res) {\n              var productId, product;\n              return _regenerator[\"default\"].wrap(function _callee3$(_context3) {\n                while (1) switch (_context3.prev = _context3.next) {\n                  case 0:\n                    productId = req.params.productId;\n                    _context3.next = 3;\n                    return db.collection('products').findOne({\n                      id: productId\n                    });\n                  case 3:\n                    product = _context3.sent;\n                    res.json(product);\n                  case 5:\n                  case \"end\":\n                    return _context3.stop();\n                }\n              }, _callee3);\n            }));\n            return function (_x6, _x7) {\n              return _ref3.apply(this, arguments);\n            };\n          }());\n          app.post('/api/users/:userId/cart', /*#__PURE__*/function () {\n            var _ref4 = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee4(req, res) {\n              var userId, productId, existingUser, user, populatedCart;\n              return _regenerator[\"default\"].wrap(function _callee4$(_context4) {\n                while (1) switch (_context4.prev = _context4.next) {\n                  case 0:\n                    userId = req.params.userId;\n                    productId = req.body.productId;\n                    _context4.next = 4;\n                    return db.collection('users').findOne({\n                      id: userId\n                    });\n                  case 4:\n                    existingUser = _context4.sent;\n                    if (existingUser) {\n                      _context4.next = 8;\n                      break;\n                    }\n                    _context4.next = 8;\n                    return db.collection('users').insertOne({\n                      id: userId,\n                      cartItems: []\n                    });\n                  case 8:\n                    _context4.next = 10;\n                    return db.collection('users').updateOne({\n                      id: userId\n                    }, {\n                      $addToSet: {\n                        cartItems: productId\n                      }\n                    });\n                  case 10:\n                    _context4.next = 12;\n                    return db.collection('users').findOne({\n                      id: req.params.userId\n                    });\n                  case 12:\n                    user = _context4.sent;\n                    _context4.next = 15;\n                    return populateCartIds(user === null || user === void 0 ? void 0 : user.cartItems);\n                  case 15:\n                    populatedCart = _context4.sent;\n                    res.json(populatedCart);\n                  case 17:\n                  case \"end\":\n                    return _context4.stop();\n                }\n              }, _callee4);\n            }));\n            return function (_x8, _x9) {\n              return _ref4.apply(this, arguments);\n            };\n          }());\n          app[\"delete\"]('/api/users/:userId/cart/:productId', /*#__PURE__*/function () {\n            var _ref5 = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee5(req, res) {\n              var userId, productId, user, populatedCart;\n              return _regenerator[\"default\"].wrap(function _callee5$(_context5) {\n                while (1) switch (_context5.prev = _context5.next) {\n                  case 0:\n                    userId = req.params.userId;\n                    productId = req.params.productId;\n                    _context5.next = 4;\n                    return db.collection('users').updateOne({\n                      id: userId\n                    }, {\n                      $pull: {\n                        cartItems: productId\n                      }\n                    });\n                  case 4:\n                    _context5.next = 6;\n                    return db.collection('users').findOne({\n                      id: req.params.userId\n                    });\n                  case 6:\n                    user = _context5.sent;\n                    _context5.next = 9;\n                    return populateCartIds(user === null || user === void 0 ? void 0 : user.cartItems);\n                  case 9:\n                    populatedCart = _context5.sent;\n                    res.json(populatedCart);\n                  case 11:\n                  case \"end\":\n                    return _context5.stop();\n                }\n              }, _callee5);\n            }));\n            return function (_x10, _x11) {\n              return _ref5.apply(this, arguments);\n            };\n          }());\n          app.get(\"*\", function (req, res) {\n            res.sendFile(_path[\"default\"].join(__dirname, \"../dist/index.html\"));\n          });\n          port = process.env.PORT || 8000;\n          app.listen(port, function () {\n            console.log(\"Server is listening on port \".concat(port));\n          });\n        case 19:\n        case \"end\":\n          return _context7.stop();\n      }\n    }, _callee7);\n  }));\n  return _start.apply(this, arguments);\n}\nstart();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX21vbmdvZGIiLCJfcGF0aCIsInN0YXJ0IiwiX3N0YXJ0IiwiYXBwbHkiLCJhcmd1bWVudHMiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJfcmVnZW5lcmF0b3IiLCJtYXJrIiwiX2NhbGxlZTciLCJ1cmwiLCJjbGllbnQiLCJkYiIsImFwcCIsInBvcHVsYXRlQ2FydElkcyIsIl9wb3B1bGF0ZUNhcnRJZHMiLCJwb3J0Iiwid3JhcCIsIl9jYWxsZWU3JCIsIl9jb250ZXh0NyIsInByZXYiLCJuZXh0IiwiX3BvcHVsYXRlQ2FydElkczMiLCJfY2FsbGVlNiIsImlkcyIsIl9jYWxsZWU2JCIsIl9jb250ZXh0NiIsImFicnVwdCIsIlByb21pc2UiLCJhbGwiLCJtYXAiLCJpZCIsImNvbGxlY3Rpb24iLCJmaW5kT25lIiwic3RvcCIsIl9wb3B1bGF0ZUNhcnRJZHMyIiwiX3gzIiwiTW9uZ29DbGllbnQiLCJjb25uZWN0IiwiZXhwcmVzcyIsInVzZSIsImpzb24iLCJwYXRoIiwiam9pbiIsIl9fZGlybmFtZSIsInJlc29sdmUiLCJtYXhBZ2UiLCJldGFnIiwiZ2V0IiwiX3JlZiIsIl9jYWxsZWUiLCJyZXEiLCJyZXMiLCJwcm9kdWN0cyIsIl9jYWxsZWUkIiwiX2NvbnRleHQiLCJmaW5kIiwidG9BcnJheSIsInNlbnQiLCJzZW5kIiwiX3giLCJfeDIiLCJfcmVmMiIsIl9jYWxsZWUyIiwidXNlciIsInBvcHVsYXRlZENhcnQiLCJfY2FsbGVlMiQiLCJfY29udGV4dDIiLCJwYXJhbXMiLCJ1c2VySWQiLCJjYXJ0SXRlbXMiLCJfeDQiLCJfeDUiLCJfcmVmMyIsIl9jYWxsZWUzIiwicHJvZHVjdElkIiwicHJvZHVjdCIsIl9jYWxsZWUzJCIsIl9jb250ZXh0MyIsIl94NiIsIl94NyIsInBvc3QiLCJfcmVmNCIsIl9jYWxsZWU0IiwiZXhpc3RpbmdVc2VyIiwiX2NhbGxlZTQkIiwiX2NvbnRleHQ0IiwiYm9keSIsImluc2VydE9uZSIsInVwZGF0ZU9uZSIsIiRhZGRUb1NldCIsIl94OCIsIl94OSIsIl9yZWY1IiwiX2NhbGxlZTUiLCJfY2FsbGVlNSQiLCJfY29udGV4dDUiLCIkcHVsbCIsIl94MTAiLCJfeDExIiwic2VuZEZpbGUiLCJwcm9jZXNzIiwiZW52IiwiUE9SVCIsImxpc3RlbiIsImNvbnNvbGUiLCJsb2ciLCJjb25jYXQiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcTmFydWRvblxcRG9jdW1lbnRzXFxHaXRIdWJcXGxlYXJuLXZ1ZS13ZWItc2hvcHBpbmdcXGJhY2stZW5kXFxzcmNcXCIsInNvdXJjZXMiOlsic2VydmVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xyXG5pbXBvcnQgeyBNb25nb0NsaWVudCB9IGZyb20gJ21vbmdvZGInO1xyXG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJ1xyXG5cclxuYXN5bmMgZnVuY3Rpb24gc3RhcnQoKSB7XHJcbiAgY29uc3QgdXJsID0gYG1vbmdvZGIrc3J2Oi8vbmFydWRvbjpOZC0wNjIwNjgyMjgyQGNsdXN0ZXIwLjZzYTNnbHcubW9uZ29kYi5uZXQvP3JldHJ5V3JpdGVzPXRydWUmdz1tYWpvcml0eWBcclxuICBjb25zdCBjbGllbnQgPSBuZXcgTW9uZ29DbGllbnQodXJsKTtcclxuXHJcbiAgYXdhaXQgY2xpZW50LmNvbm5lY3QoKTtcclxuICBjb25zdCBkYiA9IGNsaWVudC5kYignZnN2LWRiJyk7XHJcblxyXG4gIGNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcclxuICBhcHAudXNlKGV4cHJlc3MuanNvbigpKTtcclxuXHJcbiAgYXBwLnVzZSgnL2ltYWdlcycsZXhwcmVzcy5zdGF0aWMocGF0aC5qb2luKF9fZGlybmFtZSwnLi4vYXNzZXRzJykpKVxyXG5cclxuICBhcHAudXNlKGV4cHJlc3Muc3RhdGljKFxyXG4gICAgcGF0aC5yZXNvbHZlKF9fZGlybmFtZSxcIi4uL2Rpc3RcIiksXHJcbiAgICB7bWF4QWdlOicxeScsZXRhZzpmYWxzZX1cclxuICApKTtcclxuXHJcbiAgYXBwLmdldCgnL2FwaS9wcm9kdWN0cycsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgY29uc3QgcHJvZHVjdHMgPSBhd2FpdCBkYi5jb2xsZWN0aW9uKCdwcm9kdWN0cycpLmZpbmQoe30pLnRvQXJyYXkoKTtcclxuICAgIHJlcy5zZW5kKHByb2R1Y3RzKTtcclxuICB9KTtcclxuXHJcbiAgYXN5bmMgZnVuY3Rpb24gcG9wdWxhdGVDYXJ0SWRzKGlkcykge1xyXG4gICAgcmV0dXJuIFByb21pc2UuYWxsKGlkcy5tYXAoaWQgPT4gZGIuY29sbGVjdGlvbigncHJvZHVjdHMnKS5maW5kT25lKHsgaWQgfSkpKTtcclxuICB9XHJcblxyXG4gIGFwcC5nZXQoJy9hcGkvdXNlcnMvOnVzZXJJZC9jYXJ0JywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgZGIuY29sbGVjdGlvbigndXNlcnMnKS5maW5kT25lKHsgaWQ6IHJlcS5wYXJhbXMudXNlcklkIH0pO1xyXG4gICAgaWYoIXVzZXI/LmNhcnRJdGVtcyl7XHJcbiAgICAgIHJlcy5qc29uKFtdKTtcclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcbiAgICBjb25zdCBwb3B1bGF0ZWRDYXJ0ID0gYXdhaXQgcG9wdWxhdGVDYXJ0SWRzKHVzZXI/LmNhcnRJdGVtcyk7XHJcbiAgICByZXMuanNvbihwb3B1bGF0ZWRDYXJ0KTtcclxuICB9KTtcclxuXHJcbiAgYXBwLmdldCgnL2FwaS9wcm9kdWN0cy86cHJvZHVjdElkJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25zdCBwcm9kdWN0SWQgPSByZXEucGFyYW1zLnByb2R1Y3RJZDtcclxuICAgIGNvbnN0IHByb2R1Y3QgPSBhd2FpdCBkYi5jb2xsZWN0aW9uKCdwcm9kdWN0cycpLmZpbmRPbmUoeyBpZDogcHJvZHVjdElkIH0pO1xyXG4gICAgcmVzLmpzb24ocHJvZHVjdCk7XHJcbiAgfSk7XHJcblxyXG4gIGFwcC5wb3N0KCcvYXBpL3VzZXJzLzp1c2VySWQvY2FydCcsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgY29uc3QgdXNlcklkID0gcmVxLnBhcmFtcy51c2VySWQ7XHJcbiAgICBjb25zdCBwcm9kdWN0SWQgPSByZXEuYm9keS5wcm9kdWN0SWQ7XHJcblxyXG4gICAgY29uc3QgZXhpc3RpbmdVc2VyID0gYXdhaXQgZGIuY29sbGVjdGlvbigndXNlcnMnKS5maW5kT25lKHtpZDp1c2VySWR9KVxyXG5cclxuICAgIGlmKCFleGlzdGluZ1VzZXIpe1xyXG4gICAgICBhd2FpdCBkYi5jb2xsZWN0aW9uKCd1c2VycycpLmluc2VydE9uZSh7aWQ6dXNlcklkLGNhcnRJdGVtczpbXX0pXHJcbiAgICB9XHJcblxyXG4gICAgYXdhaXQgZGIuY29sbGVjdGlvbigndXNlcnMnKS51cGRhdGVPbmUoeyBpZDogdXNlcklkIH0sIHtcclxuICAgICAgJGFkZFRvU2V0OiB7IGNhcnRJdGVtczogcHJvZHVjdElkIH1cclxuICAgIH0pO1xyXG5cclxuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBkYi5jb2xsZWN0aW9uKCd1c2VycycpLmZpbmRPbmUoeyBpZDogcmVxLnBhcmFtcy51c2VySWQgfSk7XHJcbiAgICBjb25zdCBwb3B1bGF0ZWRDYXJ0ID0gYXdhaXQgcG9wdWxhdGVDYXJ0SWRzKHVzZXI/LmNhcnRJdGVtcyk7XHJcbiAgICByZXMuanNvbihwb3B1bGF0ZWRDYXJ0KTtcclxuICB9KTtcclxuXHJcbiAgYXBwLmRlbGV0ZSgnL2FwaS91c2Vycy86dXNlcklkL2NhcnQvOnByb2R1Y3RJZCcsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgY29uc3QgdXNlcklkID0gcmVxLnBhcmFtcy51c2VySWQ7XHJcbiAgICBjb25zdCBwcm9kdWN0SWQgPSByZXEucGFyYW1zLnByb2R1Y3RJZDtcclxuXHJcbiAgICBhd2FpdCBkYi5jb2xsZWN0aW9uKCd1c2VycycpLnVwZGF0ZU9uZSh7IGlkOiB1c2VySWQgfSwge1xyXG4gICAgICAkcHVsbDogeyBjYXJ0SXRlbXM6IHByb2R1Y3RJZCB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3QgdXNlciA9IGF3YWl0IGRiLmNvbGxlY3Rpb24oJ3VzZXJzJykuZmluZE9uZSh7IGlkOiByZXEucGFyYW1zLnVzZXJJZCB9KTtcclxuICAgIGNvbnN0IHBvcHVsYXRlZENhcnQgPSBhd2FpdCBwb3B1bGF0ZUNhcnRJZHModXNlcj8uY2FydEl0ZW1zKTtcclxuICAgIHJlcy5qc29uKHBvcHVsYXRlZENhcnQpO1xyXG4gIH0pO1xyXG5cclxuICBhcHAuZ2V0KFwiKlwiLChyZXEscmVzKT0+e1xyXG4gICAgcmVzLnNlbmRGaWxlKHBhdGguam9pbihfX2Rpcm5hbWUsXCIuLi9kaXN0L2luZGV4Lmh0bWxcIikpO1xyXG4gIH0pXHJcblxyXG4gIGNvbnN0IHBvcnQgPSBwcm9jZXNzLmVudi5QT1JUIHx8IDgwMDA7XHJcblxyXG4gIGFwcC5saXN0ZW4ocG9ydCwgKCkgPT4ge1xyXG4gICAgY29uc29sZS5sb2coYFNlcnZlciBpcyBsaXN0ZW5pbmcgb24gcG9ydCAke3BvcnR9YClcclxuICB9KTtcclxufVxyXG5cclxuc3RhcnQoKTsiXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsSUFBQUEsUUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsUUFBQSxHQUFBRCxPQUFBO0FBQ0EsSUFBQUUsS0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQXVCLFNBRVJHLEtBQUtBLENBQUE7RUFBQSxPQUFBQyxNQUFBLENBQUFDLEtBQUEsT0FBQUMsU0FBQTtBQUFBO0FBQUEsU0FBQUYsT0FBQTtFQUFBQSxNQUFBLE9BQUFHLGtCQUFBLDJCQUFBQyxZQUFBLFlBQUFDLElBQUEsQ0FBcEIsU0FBQUMsU0FBQTtJQUFBLElBQUFDLEdBQUEsRUFBQUMsTUFBQSxFQUFBQyxFQUFBLEVBQUFDLEdBQUEsRUFzQmlCQyxlQUFlLEVBQUFDLGdCQUFBLEVBQUFDLElBQUE7SUFBQSxPQUFBVCxZQUFBLFlBQUFVLElBQUEsVUFBQUMsVUFBQUMsU0FBQTtNQUFBLGtCQUFBQSxTQUFBLENBQUFDLElBQUEsR0FBQUQsU0FBQSxDQUFBRSxJQUFBO1FBQUE7VUFBQU4sZ0JBQUEsWUFBQU8sa0JBQUE7WUFBQVAsZ0JBQUEsT0FBQVQsa0JBQUEsMkJBQUFDLFlBQUEsWUFBQUMsSUFBQSxDQUE5QixTQUFBZSxTQUErQkMsR0FBRztjQUFBLE9BQUFqQixZQUFBLFlBQUFVLElBQUEsVUFBQVEsVUFBQUMsU0FBQTtnQkFBQSxrQkFBQUEsU0FBQSxDQUFBTixJQUFBLEdBQUFNLFNBQUEsQ0FBQUwsSUFBQTtrQkFBQTtvQkFBQSxPQUFBSyxTQUFBLENBQUFDLE1BQUEsV0FDekJDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDTCxHQUFHLENBQUNNLEdBQUcsQ0FBQyxVQUFBQyxFQUFFO3NCQUFBLE9BQUluQixFQUFFLENBQUNvQixVQUFVLENBQUMsVUFBVSxDQUFDLENBQUNDLE9BQU8sQ0FBQzt3QkFBRUYsRUFBRSxFQUFGQTtzQkFBRyxDQUFDLENBQUM7b0JBQUEsRUFBQyxDQUFDO2tCQUFBO2tCQUFBO29CQUFBLE9BQUFMLFNBQUEsQ0FBQVEsSUFBQTtnQkFBQTtjQUFBLEdBQUFYLFFBQUE7WUFBQSxDQUM3RTtZQUFBLE9BQUFSLGdCQUFBLENBQUFYLEtBQUEsT0FBQUMsU0FBQTtVQUFBO1VBRmNTLGVBQWUsWUFBQXFCLGtCQUFBQyxHQUFBO1lBQUEsT0FBQXJCLGdCQUFBLENBQUFYLEtBQUEsT0FBQUMsU0FBQTtVQUFBO1VBckJ4QkssR0FBRztVQUNIQyxNQUFNLEdBQUcsSUFBSTBCLG9CQUFXLENBQUMzQixHQUFHLENBQUM7VUFBQVMsU0FBQSxDQUFBRSxJQUFBO1VBQUEsT0FFN0JWLE1BQU0sQ0FBQzJCLE9BQU8sQ0FBQyxDQUFDO1FBQUE7VUFDaEIxQixFQUFFLEdBQUdELE1BQU0sQ0FBQ0MsRUFBRSxDQUFDLFFBQVEsQ0FBQztVQUV4QkMsR0FBRyxHQUFHLElBQUEwQixtQkFBTyxFQUFDLENBQUM7VUFDckIxQixHQUFHLENBQUMyQixHQUFHLENBQUNELG1CQUFPLENBQUNFLElBQUksQ0FBQyxDQUFDLENBQUM7VUFFdkI1QixHQUFHLENBQUMyQixHQUFHLENBQUMsU0FBUyxFQUFDRCxtQkFBTyxVQUFPLENBQUNHLGdCQUFJLENBQUNDLElBQUksQ0FBQ0MsU0FBUyxFQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUM7VUFFbkUvQixHQUFHLENBQUMyQixHQUFHLENBQUNELG1CQUFPLFVBQU8sQ0FDcEJHLGdCQUFJLENBQUNHLE9BQU8sQ0FBQ0QsU0FBUyxFQUFDLFNBQVMsQ0FBQyxFQUNqQztZQUFDRSxNQUFNLEVBQUMsSUFBSTtZQUFDQyxJQUFJLEVBQUM7VUFBSyxDQUN6QixDQUFDLENBQUM7VUFFRmxDLEdBQUcsQ0FBQ21DLEdBQUcsQ0FBQyxlQUFlO1lBQUEsSUFBQUMsSUFBQSxPQUFBM0Msa0JBQUEsMkJBQUFDLFlBQUEsWUFBQUMsSUFBQSxDQUFFLFNBQUEwQyxRQUFPQyxHQUFHLEVBQUVDLEdBQUc7Y0FBQSxJQUFBQyxRQUFBO2NBQUEsT0FBQTlDLFlBQUEsWUFBQVUsSUFBQSxVQUFBcUMsU0FBQUMsUUFBQTtnQkFBQSxrQkFBQUEsUUFBQSxDQUFBbkMsSUFBQSxHQUFBbUMsUUFBQSxDQUFBbEMsSUFBQTtrQkFBQTtvQkFBQWtDLFFBQUEsQ0FBQWxDLElBQUE7b0JBQUEsT0FDZlQsRUFBRSxDQUFDb0IsVUFBVSxDQUFDLFVBQVUsQ0FBQyxDQUFDd0IsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUNDLE9BQU8sQ0FBQyxDQUFDO2tCQUFBO29CQUE3REosUUFBUSxHQUFBRSxRQUFBLENBQUFHLElBQUE7b0JBQ2ROLEdBQUcsQ0FBQ08sSUFBSSxDQUFDTixRQUFRLENBQUM7a0JBQUM7a0JBQUE7b0JBQUEsT0FBQUUsUUFBQSxDQUFBckIsSUFBQTtnQkFBQTtjQUFBLEdBQUFnQixPQUFBO1lBQUEsQ0FDcEI7WUFBQSxpQkFBQVUsRUFBQSxFQUFBQyxHQUFBO2NBQUEsT0FBQVosSUFBQSxDQUFBN0MsS0FBQSxPQUFBQyxTQUFBO1lBQUE7VUFBQSxJQUFDO1VBTUZRLEdBQUcsQ0FBQ21DLEdBQUcsQ0FBQyx5QkFBeUI7WUFBQSxJQUFBYyxLQUFBLE9BQUF4RCxrQkFBQSwyQkFBQUMsWUFBQSxZQUFBQyxJQUFBLENBQUUsU0FBQXVELFNBQU9aLEdBQUcsRUFBRUMsR0FBRztjQUFBLElBQUFZLElBQUEsRUFBQUMsYUFBQTtjQUFBLE9BQUExRCxZQUFBLFlBQUFVLElBQUEsVUFBQWlELFVBQUFDLFNBQUE7Z0JBQUEsa0JBQUFBLFNBQUEsQ0FBQS9DLElBQUEsR0FBQStDLFNBQUEsQ0FBQTlDLElBQUE7a0JBQUE7b0JBQUE4QyxTQUFBLENBQUE5QyxJQUFBO29CQUFBLE9BQzdCVCxFQUFFLENBQUNvQixVQUFVLENBQUMsT0FBTyxDQUFDLENBQUNDLE9BQU8sQ0FBQztzQkFBRUYsRUFBRSxFQUFFb0IsR0FBRyxDQUFDaUIsTUFBTSxDQUFDQztvQkFBTyxDQUFDLENBQUM7a0JBQUE7b0JBQXRFTCxJQUFJLEdBQUFHLFNBQUEsQ0FBQVQsSUFBQTtvQkFBQSxJQUNOTSxJQUFJLGFBQUpBLElBQUksZUFBSkEsSUFBSSxDQUFFTSxTQUFTO3NCQUFBSCxTQUFBLENBQUE5QyxJQUFBO3NCQUFBO29CQUFBO29CQUNqQitCLEdBQUcsQ0FBQ1gsSUFBSSxDQUFDLEVBQUUsQ0FBQztvQkFBQyxPQUFBMEIsU0FBQSxDQUFBeEMsTUFBQTtrQkFBQTtvQkFBQXdDLFNBQUEsQ0FBQTlDLElBQUE7b0JBQUEsT0FHYVAsZUFBZSxDQUFDa0QsSUFBSSxhQUFKQSxJQUFJLHVCQUFKQSxJQUFJLENBQUVNLFNBQVMsQ0FBQztrQkFBQTtvQkFBdERMLGFBQWEsR0FBQUUsU0FBQSxDQUFBVCxJQUFBO29CQUNuQk4sR0FBRyxDQUFDWCxJQUFJLENBQUN3QixhQUFhLENBQUM7a0JBQUM7a0JBQUE7b0JBQUEsT0FBQUUsU0FBQSxDQUFBakMsSUFBQTtnQkFBQTtjQUFBLEdBQUE2QixRQUFBO1lBQUEsQ0FDekI7WUFBQSxpQkFBQVEsR0FBQSxFQUFBQyxHQUFBO2NBQUEsT0FBQVYsS0FBQSxDQUFBMUQsS0FBQSxPQUFBQyxTQUFBO1lBQUE7VUFBQSxJQUFDO1VBRUZRLEdBQUcsQ0FBQ21DLEdBQUcsQ0FBQywwQkFBMEI7WUFBQSxJQUFBeUIsS0FBQSxPQUFBbkUsa0JBQUEsMkJBQUFDLFlBQUEsWUFBQUMsSUFBQSxDQUFFLFNBQUFrRSxTQUFPdkIsR0FBRyxFQUFFQyxHQUFHO2NBQUEsSUFBQXVCLFNBQUEsRUFBQUMsT0FBQTtjQUFBLE9BQUFyRSxZQUFBLFlBQUFVLElBQUEsVUFBQTRELFVBQUFDLFNBQUE7Z0JBQUEsa0JBQUFBLFNBQUEsQ0FBQTFELElBQUEsR0FBQTBELFNBQUEsQ0FBQXpELElBQUE7a0JBQUE7b0JBQzNDc0QsU0FBUyxHQUFHeEIsR0FBRyxDQUFDaUIsTUFBTSxDQUFDTyxTQUFTO29CQUFBRyxTQUFBLENBQUF6RCxJQUFBO29CQUFBLE9BQ2hCVCxFQUFFLENBQUNvQixVQUFVLENBQUMsVUFBVSxDQUFDLENBQUNDLE9BQU8sQ0FBQztzQkFBRUYsRUFBRSxFQUFFNEM7b0JBQVUsQ0FBQyxDQUFDO2tCQUFBO29CQUFwRUMsT0FBTyxHQUFBRSxTQUFBLENBQUFwQixJQUFBO29CQUNiTixHQUFHLENBQUNYLElBQUksQ0FBQ21DLE9BQU8sQ0FBQztrQkFBQztrQkFBQTtvQkFBQSxPQUFBRSxTQUFBLENBQUE1QyxJQUFBO2dCQUFBO2NBQUEsR0FBQXdDLFFBQUE7WUFBQSxDQUNuQjtZQUFBLGlCQUFBSyxHQUFBLEVBQUFDLEdBQUE7Y0FBQSxPQUFBUCxLQUFBLENBQUFyRSxLQUFBLE9BQUFDLFNBQUE7WUFBQTtVQUFBLElBQUM7VUFFRlEsR0FBRyxDQUFDb0UsSUFBSSxDQUFDLHlCQUF5QjtZQUFBLElBQUFDLEtBQUEsT0FBQTVFLGtCQUFBLDJCQUFBQyxZQUFBLFlBQUFDLElBQUEsQ0FBRSxTQUFBMkUsU0FBT2hDLEdBQUcsRUFBRUMsR0FBRztjQUFBLElBQUFpQixNQUFBLEVBQUFNLFNBQUEsRUFBQVMsWUFBQSxFQUFBcEIsSUFBQSxFQUFBQyxhQUFBO2NBQUEsT0FBQTFELFlBQUEsWUFBQVUsSUFBQSxVQUFBb0UsVUFBQUMsU0FBQTtnQkFBQSxrQkFBQUEsU0FBQSxDQUFBbEUsSUFBQSxHQUFBa0UsU0FBQSxDQUFBakUsSUFBQTtrQkFBQTtvQkFDM0NnRCxNQUFNLEdBQUdsQixHQUFHLENBQUNpQixNQUFNLENBQUNDLE1BQU07b0JBQzFCTSxTQUFTLEdBQUd4QixHQUFHLENBQUNvQyxJQUFJLENBQUNaLFNBQVM7b0JBQUFXLFNBQUEsQ0FBQWpFLElBQUE7b0JBQUEsT0FFVFQsRUFBRSxDQUFDb0IsVUFBVSxDQUFDLE9BQU8sQ0FBQyxDQUFDQyxPQUFPLENBQUM7c0JBQUNGLEVBQUUsRUFBQ3NDO29CQUFNLENBQUMsQ0FBQztrQkFBQTtvQkFBaEVlLFlBQVksR0FBQUUsU0FBQSxDQUFBNUIsSUFBQTtvQkFBQSxJQUVkMEIsWUFBWTtzQkFBQUUsU0FBQSxDQUFBakUsSUFBQTtzQkFBQTtvQkFBQTtvQkFBQWlFLFNBQUEsQ0FBQWpFLElBQUE7b0JBQUEsT0FDUlQsRUFBRSxDQUFDb0IsVUFBVSxDQUFDLE9BQU8sQ0FBQyxDQUFDd0QsU0FBUyxDQUFDO3NCQUFDekQsRUFBRSxFQUFDc0MsTUFBTTtzQkFBQ0MsU0FBUyxFQUFDO29CQUFFLENBQUMsQ0FBQztrQkFBQTtvQkFBQWdCLFNBQUEsQ0FBQWpFLElBQUE7b0JBQUEsT0FHNURULEVBQUUsQ0FBQ29CLFVBQVUsQ0FBQyxPQUFPLENBQUMsQ0FBQ3lELFNBQVMsQ0FBQztzQkFBRTFELEVBQUUsRUFBRXNDO29CQUFPLENBQUMsRUFBRTtzQkFDckRxQixTQUFTLEVBQUU7d0JBQUVwQixTQUFTLEVBQUVLO3NCQUFVO29CQUNwQyxDQUFDLENBQUM7a0JBQUE7b0JBQUFXLFNBQUEsQ0FBQWpFLElBQUE7b0JBQUEsT0FFaUJULEVBQUUsQ0FBQ29CLFVBQVUsQ0FBQyxPQUFPLENBQUMsQ0FBQ0MsT0FBTyxDQUFDO3NCQUFFRixFQUFFLEVBQUVvQixHQUFHLENBQUNpQixNQUFNLENBQUNDO29CQUFPLENBQUMsQ0FBQztrQkFBQTtvQkFBdEVMLElBQUksR0FBQXNCLFNBQUEsQ0FBQTVCLElBQUE7b0JBQUE0QixTQUFBLENBQUFqRSxJQUFBO29CQUFBLE9BQ2tCUCxlQUFlLENBQUNrRCxJQUFJLGFBQUpBLElBQUksdUJBQUpBLElBQUksQ0FBRU0sU0FBUyxDQUFDO2tCQUFBO29CQUF0REwsYUFBYSxHQUFBcUIsU0FBQSxDQUFBNUIsSUFBQTtvQkFDbkJOLEdBQUcsQ0FBQ1gsSUFBSSxDQUFDd0IsYUFBYSxDQUFDO2tCQUFDO2tCQUFBO29CQUFBLE9BQUFxQixTQUFBLENBQUFwRCxJQUFBO2dCQUFBO2NBQUEsR0FBQWlELFFBQUE7WUFBQSxDQUN6QjtZQUFBLGlCQUFBUSxHQUFBLEVBQUFDLEdBQUE7Y0FBQSxPQUFBVixLQUFBLENBQUE5RSxLQUFBLE9BQUFDLFNBQUE7WUFBQTtVQUFBLElBQUM7VUFFRlEsR0FBRyxVQUFPLENBQUMsb0NBQW9DO1lBQUEsSUFBQWdGLEtBQUEsT0FBQXZGLGtCQUFBLDJCQUFBQyxZQUFBLFlBQUFDLElBQUEsQ0FBRSxTQUFBc0YsU0FBTzNDLEdBQUcsRUFBRUMsR0FBRztjQUFBLElBQUFpQixNQUFBLEVBQUFNLFNBQUEsRUFBQVgsSUFBQSxFQUFBQyxhQUFBO2NBQUEsT0FBQTFELFlBQUEsWUFBQVUsSUFBQSxVQUFBOEUsVUFBQUMsU0FBQTtnQkFBQSxrQkFBQUEsU0FBQSxDQUFBNUUsSUFBQSxHQUFBNEUsU0FBQSxDQUFBM0UsSUFBQTtrQkFBQTtvQkFDeERnRCxNQUFNLEdBQUdsQixHQUFHLENBQUNpQixNQUFNLENBQUNDLE1BQU07b0JBQzFCTSxTQUFTLEdBQUd4QixHQUFHLENBQUNpQixNQUFNLENBQUNPLFNBQVM7b0JBQUFxQixTQUFBLENBQUEzRSxJQUFBO29CQUFBLE9BRWhDVCxFQUFFLENBQUNvQixVQUFVLENBQUMsT0FBTyxDQUFDLENBQUN5RCxTQUFTLENBQUM7c0JBQUUxRCxFQUFFLEVBQUVzQztvQkFBTyxDQUFDLEVBQUU7c0JBQ3JENEIsS0FBSyxFQUFFO3dCQUFFM0IsU0FBUyxFQUFFSztzQkFBVTtvQkFDaEMsQ0FBQyxDQUFDO2tCQUFBO29CQUFBcUIsU0FBQSxDQUFBM0UsSUFBQTtvQkFBQSxPQUVpQlQsRUFBRSxDQUFDb0IsVUFBVSxDQUFDLE9BQU8sQ0FBQyxDQUFDQyxPQUFPLENBQUM7c0JBQUVGLEVBQUUsRUFBRW9CLEdBQUcsQ0FBQ2lCLE1BQU0sQ0FBQ0M7b0JBQU8sQ0FBQyxDQUFDO2tCQUFBO29CQUF0RUwsSUFBSSxHQUFBZ0MsU0FBQSxDQUFBdEMsSUFBQTtvQkFBQXNDLFNBQUEsQ0FBQTNFLElBQUE7b0JBQUEsT0FDa0JQLGVBQWUsQ0FBQ2tELElBQUksYUFBSkEsSUFBSSx1QkFBSkEsSUFBSSxDQUFFTSxTQUFTLENBQUM7a0JBQUE7b0JBQXRETCxhQUFhLEdBQUErQixTQUFBLENBQUF0QyxJQUFBO29CQUNuQk4sR0FBRyxDQUFDWCxJQUFJLENBQUN3QixhQUFhLENBQUM7a0JBQUM7a0JBQUE7b0JBQUEsT0FBQStCLFNBQUEsQ0FBQTlELElBQUE7Z0JBQUE7Y0FBQSxHQUFBNEQsUUFBQTtZQUFBLENBQ3pCO1lBQUEsaUJBQUFJLElBQUEsRUFBQUMsSUFBQTtjQUFBLE9BQUFOLEtBQUEsQ0FBQXpGLEtBQUEsT0FBQUMsU0FBQTtZQUFBO1VBQUEsSUFBQztVQUVGUSxHQUFHLENBQUNtQyxHQUFHLENBQUMsR0FBRyxFQUFDLFVBQUNHLEdBQUcsRUFBQ0MsR0FBRyxFQUFHO1lBQ3JCQSxHQUFHLENBQUNnRCxRQUFRLENBQUMxRCxnQkFBSSxDQUFDQyxJQUFJLENBQUNDLFNBQVMsRUFBQyxvQkFBb0IsQ0FBQyxDQUFDO1VBQ3pELENBQUMsQ0FBQztVQUVJNUIsSUFBSSxHQUFHcUYsT0FBTyxDQUFDQyxHQUFHLENBQUNDLElBQUksSUFBSSxJQUFJO1VBRXJDMUYsR0FBRyxDQUFDMkYsTUFBTSxDQUFDeEYsSUFBSSxFQUFFLFlBQU07WUFDckJ5RixPQUFPLENBQUNDLEdBQUcsZ0NBQUFDLE1BQUEsQ0FBZ0MzRixJQUFJLENBQUUsQ0FBQztVQUNwRCxDQUFDLENBQUM7UUFBQztRQUFBO1VBQUEsT0FBQUcsU0FBQSxDQUFBZSxJQUFBO01BQUE7SUFBQSxHQUFBekIsUUFBQTtFQUFBLENBQ0o7RUFBQSxPQUFBTixNQUFBLENBQUFDLEtBQUEsT0FBQUMsU0FBQTtBQUFBO0FBRURILEtBQUssQ0FBQyxDQUFDIn0=","map":{"version":3,"names":["_express","_interopRequireDefault","require","_mongodb","_path","start","_start","apply","arguments","_asyncToGenerator2","_regenerator","mark","_callee7","url","client","db","app","populateCartIds","_populateCartIds","port","wrap","_callee7$","_context7","prev","next","_populateCartIds3","_callee6","ids","_callee6$","_context6","abrupt","Promise","all","map","id","collection","findOne","stop","_populateCartIds2","_x3","MongoClient","connect","express","use","json","path","join","__dirname","resolve","maxAge","etag","get","_ref","_callee","req","res","products","_callee$","_context","find","toArray","sent","send","_x","_x2","_ref2","_callee2","user","populatedCart","_callee2$","_context2","params","userId","cartItems","_x4","_x5","_ref3","_callee3","productId","product","_callee3$","_context3","_x6","_x7","post","_ref4","_callee4","existingUser","_callee4$","_context4","body","insertOne","updateOne","$addToSet","_x8","_x9","_ref5","_callee5","_callee5$","_context5","$pull","_x10","_x11","sendFile","process","env","PORT","listen","console","log","concat"],"sourceRoot":"C:\\Users\\Narudon\\Documents\\GitHub\\learn-vue-web-shopping\\back-end\\src\\","sources":["server.js"],"sourcesContent":["import express from 'express';\r\nimport { MongoClient } from 'mongodb';\r\nimport path from 'path'\r\n\r\nasync function start() {\r\n  const url = `mongodb+srv://narudon:Nd-0620682282@cluster0.6sa3glw.mongodb.net/?retryWrites=true&w=majority`\r\n  const client = new MongoClient(url);\r\n\r\n  await client.connect();\r\n  const db = client.db('fsv-db');\r\n\r\n  const app = express();\r\n  app.use(express.json());\r\n\r\n  app.use('/images',express.static(path.join(__dirname,'../assets')))\r\n\r\n  app.use(express.static(\r\n    path.resolve(__dirname,\"../dist\"),\r\n    {maxAge:'1y',etag:false}\r\n  ));\r\n\r\n  app.get('/api/products', async (req, res) => {\r\n    const products = await db.collection('products').find({}).toArray();\r\n    res.send(products);\r\n  });\r\n\r\n  async function populateCartIds(ids) {\r\n    return Promise.all(ids.map(id => db.collection('products').findOne({ id })));\r\n  }\r\n\r\n  app.get('/api/users/:userId/cart', async (req, res) => {\r\n    const user = await db.collection('users').findOne({ id: req.params.userId });\r\n    if(!user?.cartItems){\r\n      res.json([]);\r\n      return\r\n    }\r\n    const populatedCart = await populateCartIds(user?.cartItems);\r\n    res.json(populatedCart);\r\n  });\r\n\r\n  app.get('/api/products/:productId', async (req, res) => {\r\n    const productId = req.params.productId;\r\n    const product = await db.collection('products').findOne({ id: productId });\r\n    res.json(product);\r\n  });\r\n\r\n  app.post('/api/users/:userId/cart', async (req, res) => {\r\n    const userId = req.params.userId;\r\n    const productId = req.body.productId;\r\n\r\n    const existingUser = await db.collection('users').findOne({id:userId})\r\n\r\n    if(!existingUser){\r\n      await db.collection('users').insertOne({id:userId,cartItems:[]})\r\n    }\r\n\r\n    await db.collection('users').updateOne({ id: userId }, {\r\n      $addToSet: { cartItems: productId }\r\n    });\r\n\r\n    const user = await db.collection('users').findOne({ id: req.params.userId });\r\n    const populatedCart = await populateCartIds(user?.cartItems);\r\n    res.json(populatedCart);\r\n  });\r\n\r\n  app.delete('/api/users/:userId/cart/:productId', async (req, res) => {\r\n    const userId = req.params.userId;\r\n    const productId = req.params.productId;\r\n\r\n    await db.collection('users').updateOne({ id: userId }, {\r\n      $pull: { cartItems: productId },\r\n    });\r\n\r\n    const user = await db.collection('users').findOne({ id: req.params.userId });\r\n    const populatedCart = await populateCartIds(user?.cartItems);\r\n    res.json(populatedCart);\r\n  });\r\n\r\n  app.get(\"*\",(req,res)=>{\r\n    res.sendFile(path.join(__dirname,\"../dist/index.html\"));\r\n  })\r\n\r\n  const port = process.env.PORT || 8000;\r\n\r\n  app.listen(port, () => {\r\n    console.log(`Server is listening on port ${port}`)\r\n  });\r\n}\r\n\r\nstart();"],"mappings":"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"}},"mtime":1686397399914}}